{% extends 'admin/base.html.twig' %}

{% block title %}Administration de la technologie "{{technology.name}}"{% endblock %}

{% block body %}
<div class="container mb-2">
    <h1 class="my-5">Modification de la technologie : <strong>{{technology.name}}</strong></h1>
    
    {{ form_start(form) }}

    {{ form_widget(form) }}

    <button type="submit" class="btn btn-primary">Enregistrer les modifications</button>

    {{ form_end(form) }}
</div>
<div class="container mb-5">
    <h2 class="my-4">Projets lié à cette technologie :</strong></h2>
    
    {% if technology.projects|length == 0 %}
    <p>Aucun projet n'est relié à cette technologie pour le moment...</p>
    {% else %}
    <div class="row">
        {% for project in technology.projects %}
        <div class="col-4">
            <div class="card mb-3">
                <div class="card-body" style="min-height: 115px">
                    <h4 class="card-title">{{project.name}} ({{project.id}})</h4>
                    <h6 class="card-subtitle mb-2 text-muted">{{project.introduction}}</h5>
                </div>
                <img src="{{ vich_uploader_asset(project.pictures.first) }}" alt="{{project.pictures.first.caption}}" class="d-block user-select-none" width="100%" height="200" style="object-fit: cover;" />
            </div>        
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock %}
